"use strict";(self.webpackChunkcsv_to_qlab=self.webpackChunkcsv_to_qlab||[]).push([[6109],{157:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"tutorial-basics/cli-advanced","title":"CLI Advanced Usage","description":"Advanced features for automation, scripting, and batch processing with the CSV to QLab command-line interface.","source":"@site/docs/tutorial-basics/cli-advanced.md","sourceDirName":"tutorial-basics","slug":"/tutorial-basics/cli-advanced","permalink":"/docs/tutorial-basics/cli-advanced","draft":false,"unlisted":false,"editUrl":"https://github.com/fross123/csv_to_qlab/edit/main/website/docs/tutorial-basics/cli-advanced.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Send to QLab","permalink":"/docs/tutorial-basics/send-to-qlab"},"next":{"title":"Architecture Overview","permalink":"/docs/developer/architecture"}}');var i=s(4848),o=s(8453);const l={sidebar_position:4},c="CLI Advanced Usage",t={},a=[{value:"Output Modes",id:"output-modes",level:2},{value:"Human-Readable Output (Default)",id:"human-readable-output-default",level:3},{value:"Verbose Mode",id:"verbose-mode",level:3},{value:"Quiet Mode",id:"quiet-mode",level:3},{value:"JSON Output",id:"json-output",level:3},{value:"Command-Line Arguments",id:"command-line-arguments",level:2},{value:"Positional Arguments (Required)",id:"positional-arguments-required",level:3},{value:"Optional Arguments",id:"optional-arguments",level:3},{value:"Automation Examples",id:"automation-examples",level:2},{value:"Batch Processing Multiple Files",id:"batch-processing-multiple-files",level:3},{value:"Integration with Scripts",id:"integration-with-scripts",level:3},{value:"Watch Directory for Changes",id:"watch-directory-for-changes",level:3},{value:"Remote Execution via SSH",id:"remote-execution-via-ssh",level:3},{value:"Exit Codes",id:"exit-codes",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Command Not Found",id:"command-not-found",level:3},{value:"Module Not Found Errors",id:"module-not-found-errors",level:3},{value:"Connection Errors",id:"connection-errors",level:3},{value:"CSV Format Errors",id:"csv-format-errors",level:3},{value:"Development Mode",id:"development-mode",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"cli-advanced-usage",children:"CLI Advanced Usage"})}),"\n",(0,i.jsx)(n.p,{children:"Advanced features for automation, scripting, and batch processing with the CSV to QLab command-line interface."}),"\n",(0,i.jsxs)(n.admonition,{title:"Prerequisites",type:"info",children:[(0,i.jsx)(n.p,{children:"This guide assumes you've already:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/tutorial-basics/installation#command-line-interface-cli",children:"Installed the CLI"})}),"\n",(0,i.jsxs)(n.li,{children:["Learned ",(0,i.jsx)(n.a,{href:"/docs/tutorial-basics/send-to-qlab#using-the-cli",children:"basic CLI usage"})]}),"\n",(0,i.jsxs)(n.li,{children:["Prepared a ",(0,i.jsx)(n.a,{href:"/docs/tutorial-basics/prepare-csv-file",children:"CSV file"})]}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"output-modes",children:"Output Modes"}),"\n",(0,i.jsx)(n.h3,{id:"human-readable-output-default",children:"Human-Readable Output (Default)"}),"\n",(0,i.jsx)(n.p,{children:"Shows a summary of successes and errors:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"csv-to-qlab show.csv 127.0.0.1 5\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u2713 Successfully processed 55 cue(s)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"verbose-mode",children:"Verbose Mode"}),"\n",(0,i.jsx)(n.p,{children:"Shows detailed information during processing:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"csv-to-qlab show.csv 127.0.0.1 5 --verbose\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Sending CSV file: show.csv\r\nQLab IP: 127.0.0.1\r\nQLab version: 5\r\nUsing passcode: ****\r\n\r\n\u2713 Successfully processed 55 cue(s)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"quiet-mode",children:"Quiet Mode"}),"\n",(0,i.jsx)(n.p,{children:"Suppresses success messages, only shows errors:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"csv-to-qlab show.csv 127.0.0.1 5 --quiet\n"})}),"\n",(0,i.jsx)(n.h3,{id:"json-output",children:"JSON Output"}),"\n",(0,i.jsx)(n.p,{children:"Perfect for scripting and automation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"csv-to-qlab show.csv 127.0.0.1 5 --json\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": [\r\n    {\r\n      "status": "ok",\r\n      "message": "/reply/new: ..."\r\n    }\r\n  ],\r\n  "errors": [],\r\n  "has_errors": false\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"command-line-arguments",children:"Command-Line Arguments"}),"\n",(0,i.jsx)(n.h3,{id:"positional-arguments-required",children:"Positional Arguments (Required)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"csv_file"})," - Path to CSV file containing cue data"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ip"})," - IP address of QLab machine (e.g., 127.0.0.1 or 192.168.1.100)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"qlab_version"})," - QLab version: either 4 or 5"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"optional-arguments",children:"Optional Arguments"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --passcode PASSCODE"})," - QLab workspace passcode"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-v, --verbose"})," - Enable verbose output"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-q, --quiet"})," - Suppress success messages, only show errors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-j, --json"})," - Output results in JSON format"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-h, --help"})," - Show help message and exit"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"automation-examples",children:"Automation Examples"}),"\n",(0,i.jsx)(n.h3,{id:"batch-processing-multiple-files",children:"Batch Processing Multiple Files"}),"\n",(0,i.jsx)(n.p,{children:"Process multiple CSV files in sequence:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\r\nfor file in cues/*.csv; do\r\n    csv-to-qlab "$file" 127.0.0.1 5 --quiet\r\n    if [ $? -ne 0 ]; then\r\n        echo "Error processing $file"\r\n    fi\r\ndone\n'})}),"\n",(0,i.jsx)(n.h3,{id:"integration-with-scripts",children:"Integration with Scripts"}),"\n",(0,i.jsx)(n.p,{children:"Use JSON output for programmatic processing:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\r\nresult=$(csv-to-qlab show.csv 127.0.0.1 5 --json)\r\nhas_errors=$(echo "$result" | jq -r \'.has_errors\')\r\n\r\nif [ "$has_errors" = "true" ]; then\r\n    echo "Errors occurred during processing"\r\n    echo "$result" | jq -r \'.errors[]\'\r\n    exit 1\r\nfi\r\n\r\necho "Success!"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"watch-directory-for-changes",children:"Watch Directory for Changes"}),"\n",(0,i.jsx)(n.p,{children:"Automatically process CSV files when they appear in a directory:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\r\n# Requires inotifywait (Linux) or fswatch (macOS)\r\n\r\n# macOS\r\nfswatch -o ~/cue_drops | while read; do\r\n    for file in ~/cue_drops/*.csv; do\r\n        csv-to-qlab "$file" 127.0.0.1 5 --quiet\r\n        mv "$file" ~/cue_drops/processed/\r\n    done\r\ndone\n'})}),"\n",(0,i.jsx)(n.h3,{id:"remote-execution-via-ssh",children:"Remote Execution via SSH"}),"\n",(0,i.jsx)(n.p,{children:"Run the CLI on a remote machine:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ssh user@server "csv-to-qlab /path/to/show.csv 127.0.0.1 5"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,i.jsx)(n.p,{children:"The CLI uses standard exit codes for automation:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0"})," - Success (no errors occurred)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"1"})," - Error (file not found, processing errors, etc.)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Use in scripts:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'if csv-to-qlab show.csv 127.0.0.1 5 --quiet; then\r\n    echo "Success!"\r\nelse\r\n    echo "Failed with exit code $?"\r\nfi\n'})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"command-not-found",children:"Command Not Found"}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"csv-to-qlab"})," command is not found after installation:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Check if pip's bin directory is in your PATH:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"python -m pip show csv-to-qlab\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Try running directly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"python -m app.cli show.csv 127.0.0.1 5\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"module-not-found-errors",children:"Module Not Found Errors"}),"\n",(0,i.jsx)(n.p,{children:"Ensure python-osc is installed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pip install python-osc\n"})}),"\n",(0,i.jsx)(n.h3,{id:"connection-errors",children:"Connection Errors"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Verify QLab is running on the target machine"}),"\n",(0,i.jsx)(n.li,{children:"Check that OSC is enabled in QLab preferences"}),"\n",(0,i.jsx)(n.li,{children:"Ensure the IP address is correct"}),"\n",(0,i.jsxs)(n.li,{children:["Verify network connectivity: ",(0,i.jsx)(n.code,{children:"ping [IP_ADDRESS]"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"csv-format-errors",children:"CSV Format Errors"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure your CSV has the required columns (Number, Type, Name)"}),"\n",(0,i.jsxs)(n.li,{children:["Check that column headers match the ",(0,i.jsx)(n.a,{href:"/docs/reference/csv-columns",children:"CSV Column Reference"})]}),"\n",(0,i.jsx)(n.li,{children:"Verify the CSV is properly formatted (no extra quotes, commas, etc.)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"development-mode",children:"Development Mode"}),"\n",(0,i.jsx)(n.p,{children:"For development, install in editable mode:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Clone and navigate to repository\r\ngit clone https://github.com/fross123/csv_to_qlab.git\r\ncd csv_to_qlab\r\n\r\n# Install in editable mode\r\npip install -e .\r\n\r\n# Run directly from source\r\npython app/cli.py show.csv 127.0.0.1 5\n"})}),"\n",(0,i.jsx)(n.p,{children:"This allows you to modify the code and test changes immediately without reinstalling."}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Explore the ",(0,i.jsx)(n.a,{href:"/docs/reference/csv-columns",children:"CSV Column Reference"})," for all available properties"]}),"\n",(0,i.jsxs)(n.li,{children:["Learn about ",(0,i.jsx)(n.a,{href:"/docs/developer/architecture",children:"Developer Documentation"})," if you want to contribute"]}),"\n",(0,i.jsx)(n.li,{children:"Share your automation scripts with the community"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var r=s(6540);const i={},o=r.createContext(i);function l(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);